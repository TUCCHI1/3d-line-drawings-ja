<template>
  <div class="min-h-screen bg-gray-50 dark:bg-gray-900">
    <!-- Header -->
    <UContainer>
      <header class="py-6">
        <nav class="flex items-center justify-between">
          <NuxtLink to="/" class="flex items-center gap-3">
            <div class="text-3xl">üîç</div>
            <div>
              <h1 class="text-xl font-bold text-gray-900 dark:text-white">
                JSON-LD Demo
              </h1>
              <p class="text-xs text-gray-500 dark:text-gray-400">
                ÊßãÈÄ†Âåñ„Éá„Éº„Çø„ÅÆÂÆüË∑µ„Ç¨„Ç§„Éâ
              </p>
            </div>
          </NuxtLink>

          <div class="flex items-center gap-4">
            <UButton
              color="gray"
              variant="ghost"
              icon="i-heroicons-moon"
              @click="toggleDarkMode"
            />
          </div>
        </nav>
      </header>
    </UContainer>

    <!-- Navigation Tabs -->
    <UContainer>
      <div class="border-b border-gray-200 dark:border-gray-700">
        <nav class="flex gap-4 overflow-x-auto">
          <NuxtLink
            v-for="link in navigation"
            :key="link.to"
            :to="link.to"
            class="px-4 py-3 text-sm font-medium whitespace-nowrap border-b-2 transition-colors"
            :class="isActive(link.to)
              ? 'border-primary-500 text-primary-600 dark:text-primary-400'
              : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:border-gray-300 dark:hover:border-gray-600'"
          >
            <span class="mr-2">{{ link.icon }}</span>
            {{ link.label }}
          </NuxtLink>
        </nav>
      </div>
    </UContainer>

    <!-- Main Content -->
    <main class="py-8">
      <slot />
    </main>

    <!-- Footer -->
    <UContainer>
      <footer class="py-8 border-t border-gray-200 dark:border-gray-700">
        <div class="text-center text-sm text-gray-600 dark:text-gray-400">
          <p>Nuxt √ó Nuxt UI „Åß‰Ωú„Çã application/ld+json „Éá„É¢</p>
          <p class="mt-2">
            <a
              href="https://schema.org"
              target="_blank"
              class="text-primary-600 dark:text-primary-400 hover:underline"
            >
              Schema.org
            </a>
            „ÅÆ‰ªïÊßò„Å´Ê∫ñÊã†
          </p>
        </div>
      </footer>
    </UContainer>
  </div>
</template>

<script setup lang="ts">
const route = useRoute()
const colorMode = useColorMode()

const navigation = [
  { to: '/', label: '„Éõ„Éº„É†', icon: 'üè†' },
  { to: '/product', label: 'ÂïÜÂìÅ', icon: 'üõçÔ∏è' },
  { to: '/article', label: 'Ë®ò‰∫ã', icon: 'üìù' },
  { to: '/restaurant', label: '„É¨„Çπ„Éà„É©„É≥', icon: 'üçΩÔ∏è' },
  { to: '/event', label: '„Ç§„Éô„É≥„Éà', icon: 'üé´' },
]

const isActive = (path: string) => {
  if (path === '/') {
    return route.path === '/'
  }
  return route.path.startsWith(path)
}

const toggleDarkMode = () => {
  colorMode.preference = colorMode.value === 'dark' ? 'light' : 'dark'
}
</script>
